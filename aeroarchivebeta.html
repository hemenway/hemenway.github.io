<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <style>html,body,#map{height:100%;margin:0}</style>
</head>
<body>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
(async () => {
  const map = L.map('map');

  // HTTPS tiles to avoid mixed content
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution:'&copy; OpenStreetMap contributors'
  }).addTo(map);

  // Your public COG (must be reachable by tiles.rdnt.io)
  const cogUrl = 'https://aeromap.io/201109S_geo_COG.tif';

  // Get TileJSON (template + bounds + min/max zoom)
  const tj = await fetch(
    'https://tiles.rdnt.io/tiles?url=' + encodeURIComponent(cogUrl) +
    // optional server-side rendering knobs:
    '&rgb=1,2,3&linearStretch=true' // or add &nodata=0 if needed
  ).then(r => r.json());

  // Add the raster XYZ layer
  const raster = L.tileLayer(tj.tiles[0], { minZoom:tj.minzoom, maxZoom:tj.maxzoom, crossOrigin:true });
  raster.addTo(map);

  // Fit to raster bounds
  const b = tj.bounds; // [w,s,e,n]
  map.fitBounds([[b[1], b[0]], [b[3], b[2]]]);
})();
</script>
</body>
</html>